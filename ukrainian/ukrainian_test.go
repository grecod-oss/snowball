package ukrainian

import (
	"testing"

	"github.com/kljensen/snowball/romance"
)

// Test isLowerVowel for things we know should be true
// or false.
//
func Test_isLowerVowel(t *testing.T) {
	testCases := []romance.WordBoolTestCase{
		// These are all vowels.
		{"аеиоіуяєюї", true},
		// None of these are vowels.
		{"бвгґджзйклмнпрстфхцчшщь", false},
	}
	romance.RunRunewiseBoolTest(t, isLowerVowel, testCases)
}

// Test stopWords for things we know should be true
// or false.
//
func Test_stopWords(t *testing.T) {
	testCases := []romance.WordBoolTestCase{
		{"була", true},
		{"нас", true},
		{"мене", true},
		{"хімічне", false},
		{"машинобудування", false},
	}
	romance.RunWordBoolTest(t, isStopWord, testCases)
}

func Test_findRegions(t *testing.T) {
	testCases := []romance.FindRegionsTestCase{

		{"Лякає", 3, 1, 4},
		{"Гарячої", 2, 6, 5},
		{"Розчаруватися", 2, 5, 1},
		{"Ваших", 2, 1, 4},
		{"Зливаєшся", 3, 2, 5},
		{"Випив", 2, 1, 5},
		{"Їздить", 2, 3, 4},
		{"Думай", 2, 4, 3},
		{"Літай", 2, 4, 1},
		{"Розмовляла", 2, 1, 4},
		{"Бесідою", 2, 4, 3},
		{"Бурчить", 2, 5, 1},
		{"Зростаючого", 3, 5, 1},
		{"Підповзла", 2, 5, 1},
		{"Швидкістю", 3, 6, 1},
		{"Псує", 2, 3, 1},
		{"Качала", 4, 1, 5},
		{"Чуйність", 2, 5, 4},
		{"Прагнення", 3, 6, 4},
		{"Примхи", 3, 1, 4},
		{"Почутті", 4, 2, 1},
		{"Істоту", 4, 2, 1},
		{"Жменею", 2, 5, 4},
		{"Постіллю", 2, 5, 1},
		{"Призупинився", 3, 5, 1},
		{"Бігає", 2, 4, 1},
		{"Мучиш", 2, 4, 1},
		{"Ляжу", 2, 4, 1},
		{"Здивування", 3, 2, 5},
		{"Скрасити", 4, 7, 2},
		{"Безглуздий", 2, 6, 1},
		{"Змінитися", 5, 3, 2},
		{"Бульвару", 2, 6, 5},
		{"Добробуту", 2, 7, 1},
		{"Галявині", 2, 6, 1},
		{"Прощення", 3, 5, 1},
		{"Нишком", 2, 4, 1},
		{"Переселився", 2, 8, 3},
		{"Відмахується", 2, 5, 1},
		{"Змучив", 3, 5, 1},
		{"П'яною", 5, 3, 1},
		{"Куртці", 2, 6, 1},
		{"Буйний", 2, 5, 1},
		{"Застраховані", 2, 8, 7},
		{"Шаршавого", 2, 7, 8},
		{"Завидна", 2, 4, 3},
		{"Напередодні", 4, 2, 1},
		{"Періодичного", 2, 5, 1},
		{"Вигода", 2, 4, 1},
		{"Мачуха", 2, 4, 5},
		{"Дворовий", 3, 7, 4},
		{"Завмерло", 2, 5, 7},
		{"Навколишні", 2, 5, 1},
		{"Звичайних", 3, 5, 1},
		{"Добігши", 2, 4, 1},
		{"Марилося", 2, 6, 1},
		{"Татарським", 2, 9, 1},
		{"Неважливим", 4, 7, 1},
		{"Втекли", 3, 6, 4},
		{"Завести", 2, 4, 1},
		{"Відчинені", 2, 5, 1},
		{"Дракон", 3, 5, 1},
		{"Бродить", 3, 5, 1},
		{"Смуток", 3, 5, 1},
		{"Постаріти", 2, 5, 4},
		{"Спасіння", 3, 5, 1},
		{"Попередня", 2, 4, 1},
		{"Розрахунки", 2, 5, 1},
		{"Плаває", 3, 6, 1},
		{"Наступили", 2, 5, 1},
		{"Повели", 4, 2, 1},
		{"Підкорилися", 5, 2, 4},
		{"Здоровий", 5, 7, 4},
		{"Представляла", 2, 7, 1},
		{"Чіпай", 4, 2, 5},
		{"Поклонися", 5, 7, 1},
		{"Передчуття", 4, 7, 3},
		{"Пропускає", 5, 9, 6},
		{"Щітку", 2, 5, 4},
		{"Відворотом", 2, 5, 1},
		{"Полярний", 2, 4, 5},
	}

	romance.RunFindRegionsTest(t, findRegions, testCases)
}

// Test step1
//
func Test_step1(t *testing.T) {
	testCases := []romance.StepTestCase{
		{"Снігові", 4, 3, 1, true, "сніг", 4, 3, 1},
		{"Вмираю", 3, 4, 1, true, "вмира", 3, 4, 1},
		{"Відчепіться", 2, 6, 1, true, "відчеп", 2, 6, 1},
		{"Літні", 3, 1, 2, true, "літн", 3, 4, 2},
		{"Густий", 3, 4, 2, true, "густ", 3, 4, 2},
		{"Соціальний", 3, 6, 2, true, "соціальн", 3, 6, 2},
		{"Силою", 3, 1, 2, true, "сил", 3, 1, 2},
		{"Млини", 3, 4, 2, true, "млин", 3, 4, 2},
		{"Приватному", 3, 1, 2, true, "приват", 3, 1, 2},
		{"Сухарі", 3, 5, 2, true, "сухар", 3, 5, 2},
		{"Озираючись", 2, 5, 1, true, "озира", 2, 5, 1},
		{"Шкарпетками", 3, 4, 2, true, "шкарпетк", 3, 4, 2},
		{"Швидкому", 3, 5, 2, true, "швидк", 3, 5, 2},
		{"Блиснувши,", 4, 1, 3, true, "блис", 4, 1, 3},
		{"Стерегла", 4, 1, 3, true, "стерег", 4, 1, 3},
		{"Навчався", 2, 4, 1, true, "навча", 2, 4, 1},
		{"Невисокому", 3, 5, 2, true, "невисок", 3, 5, 2},
		{"Освіжити", 2, 5, 1, true, "освіж", 2, 5, 1},
		{"Покінчивши", 3, 5, 2, true, "покінчив", 3, 5, 2},
		{"Веселіше", 3, 5, 2, true, "весел", 3, 5, 2},
		{"Тремтливою", 4, 6, 3, true, "тремт", 4, 6, 3},
		{"Спустошуються", 2, 4, 1, true, "спустош", 2, 4, 1},
		{"Скажіть", 4, 1, 3, true, "скаж", 4, 1, 3},
		{"Пригрозили", 4, 7, 3, true, "пригроз", 4, 7, 3},
		{"Коваля", 3, 6, 2, true, "ковал", 3, 6, 2},
		{"Естетичне", 2, 5, 1, true, "естетичн", 2, 5, 1},
		{"Погодиться", 3, 6, 2, true, "погод", 3, 6, 2},
		{"Нудьгу", 2, 1, 3, true, "нудьг", 2, 1, 3},
		{"Подані", 3, 1, 2, true, "пода", 3, 1, 2},
		{"Ходою", 3, 1, 2, true, "ход", 3, 1, 2},
		{"Важливіші", 3, 5, 2, true, "важлив", 3, 5, 2},
		{"Отриманого", 3, 5, 2, true, "отриман", 3, 5, 2},
		{"Проїздила", 1, 6, 3, true, "проїзд", 1, 6, 3},
		{"Їдучи", 2, 4, 1, true, "їду", 2, 4, 1},
		{"Пам'ятаєш", 3, 1, 2, true, "пам'ята", 3, 1, 2},
		{"Гріховні", 4, 6, 3, true, "гріховн", 4, 6, 3},
		{"Куховарки", 3, 5, 2, true, "куховар", 3, 5, 2},
		{"Заборониш", 3, 5, 2, true, "заборон", 3, 5, 2},
		{"Похолоділи", 3, 5, 2, true, "похолод", 3, 5, 2},
		{"Валяються", 3, 1, 2, true, "валя", 3, 1, 2},
		{"Миколаївському", 3, 5, 2, true, "миколаїв", 3, 5, 2},
		{"Фізіологія", 3, 6, 2, true, "фізіолог", 3, 6, 2},
		{"Безплідного", 3, 7, 2, true, "безплідн", 3, 7, 2},
		{"Порятунку", 1, 3, 5, true, "порятун", 1, 3, 5},
		{"Невгамовної", 4, 1, 2, true, "невгамовн", 4, 1, 2},
		{"Ідіотства", 2, 5, 1, true, "ідіот", 2, 5, 1},
		{"Закоханої", 4, 2, 3, true, "закохан", 4, 2, 3},
		{"Кривився", 3, 4, 1, true, "криви", 3, 4, 1},
		{"Звинуватила", 4, 3, 1, true, "звинуват", 4, 3, 1},
		{"Загадковим", 3, 1, 2, true, "загадк", 3, 1, 2},
		{"Заїкнися", 4, 1, 2, true, "заїкнис", 4, 1, 2},
		{"Спритно", 3, 4, 2, true, "спритн", 3, 4, 2},
		{"Ненаситну", 3, 5, 2, true, "ненаситн", 3, 5, 2},
		{"Засяяв", 3, 1, 2, true, "засяя", 3, 1, 2},
		{"Виступлю", 3, 1, 2, true, "виступ", 3, 1, 2},
		{"Дивне", 3, 1, 2, true, "Дивн", 3, 1, 2},
		{"Роздруковувати", 3, 1, 2, true, "роздрук", 3, 1, 2},
		{"Нечемність", 4, 1, 3, true, "нечемн", 4, 1, 3},
		{"Спрямовані", 2, 4, 1, true, "спрямован", 2, 4, 1},
		{"Владному", 4, 1, 3, true, "владн", 4, 1, 3},
		{"Сором'язливо", 2, 5, 3, true, "сором'язлив", 2, 5, 3},
		{"Фігурі", 3, 5, 2, true, "фігур", 3, 5, 2},
		{"Підстерігти", 3, 1, 2, true, "підстерег", 3, 1, 2},
		{"Необережний", 4, 1, 2, true, "необережно", 4, 1, 2},
		{"Особливих", 2, 4, 1, true, "особлив", 2, 4, 1},
		{"Проходять", 4, 1, 3, true, "проход", 4, 1, 3},
		// False cases
		{"Список", 4, 6, 3, false, "список", 4, 6, 3},
		{"Телефон", 3, 5, 2, false, "телефон", 3, 5, 2},
		{"Кухарок", 3, 5, 2, false, "кухарок", 3, 5, 2},
		{"Пошиє", 3, 6, 2, false, "пошиє", 3, 6, 2},
		{"Перейнявся", 4, 6, 3, false, "проник", 4, 6, 3},
		{"Стіл", 4, 4, 3, false, "стіл", 4, 4, 3},
		{"Змахне", 4, 7, 3, false, "змахне", 4, 7, 3},
		{"урочист", 3, 6, 2, false, "урочист", 3, 6, 2},
		{"Убір", 2, 4, 1, false, "убір", 2, 4, 1},
		{"Тануть", 4, 4, 2, false, "тануть", 4, 4, 2},
		{"Обніс", 2, 5, 1, false, "обніс", 2, 5, 1},
		{"Промайне", 4, 6, 3, false, "промайне", 4, 6, 3},
		{"Впаде", 2, 4, 1, false, "впаде", 2, 4, 1},
		{"Продавець", 4, 6, 3, false, "продавець", 4, 6, 3},
		{"Озирнувся", 2, 5, 1, false, "оглянув", 2, 5, 1},
		{"Зійшовся", 3, 5, 2, false, "зійшов", 3, 5, 2},
		{"Курс", 3, 4, 2, false, "курс", 3, 4, 2},
		{"Залучив", 4, 7, 3, false, "залучив", 4, 7, 3},
		{"Копійок", 3, 6, 2, false, "копійок", 3, 6, 2},
		{"Хочеться", 3, 5, 2, false, "хоче", 3, 5, 2},
		{"Лорнет", 3, 6, 2, false, "лорнет", 3, 6, 2},
		{"Махнувши", 3, 6, 2, false, "махнувши", 3, 6, 2},
		{"Дворянин", 4, 6, 3, false, "дворянин", 4, 6, 3},
		{"Іспанець", 2, 5, 1, false, "іспанець", 2, 5, 1},
		{"Одужав", 3, 6, 2, false, "одужав", 3, 6, 2},
		{"Спроб", 3, 5, 2, false, "спроб", 3, 5, 2},
		{"Просторів", 4, 8, 3, false, "просторів", 4, 8, 3},
		{"Сенат", 3, 5, 2, false, "сенат", 3, 5, 2},
		{"Млинець", 4, 4, 3, false, "млинець", 4, 4, 3},
		{"Палять", 2, 1, 3, false, "палять", 2, 1, 3},
		{"Літург", 3, 5, 2, false, "Літург", 3, 5, 2},
		{"Пітьмі", 4, 4, 4, false, "пітьмі", 4, 4, 4},
		{"Скринька", 3, 6, 2, false, "скринька", 3, 6, 2},
		{"Вб'є", 2, 5, 1, false, "вб'є", 2, 5, 1},
		{"Ніж", 3, 3, 2, false, "ніж", 3, 3, 2},
		{"Ліхтарик", 3, 5, 2, false, "ліхтарик", 3, 5, 2},
		{"Пагорб", 3, 4, 2, false, "пагорб", 3, 4, 2},
		{"Закинувши", 2, 4, 1, false, "закинувши", 2, 4, 1},
		{"Кордонів", 4, 6, 3, false, "кордонів", 4, 6, 3},
		{"Сам", 3, 1, 2, false, "сам", 3, 1, 2},
	}
	romance.RunStepTest(t, step1, testCases)

}

// Test step2
//
func Test_step2(t *testing.T) {
	testCases := []romance.StepTestCase{
		{"фотографі", 2, 7, 5, true, "фотограф", 2, 7, 5},
		{"Євгені", 2, 5, 1, true, "Євген", 2, 5, 1},
		{"релігі", 3, 5, 2, true, "реліг", 3, 5, 2},
		{"інструкці", 3, 5, 2, true, "інструкц", 3, 5, 2},
		{"необхідні", 3, 1, 2, true, "необхідн", 3, 1, 2},
		{"беззбройні", 1, 6, 2, true, "беззбройн", 1, 6, 2},
		{"безініціативні", 2, 7, 3, true, "безініціативн", 2, 7, 3},
		{"блідні", 3, 5, 2, true, "блідн", 3, 5, 2},
		{"ванілі", 4, 2, 3, true, "ваніл", 4, 2, 3},
		{"байдужі", 1, 5, 2, true, "байдуж", 1, 5, 2},
		{"комеді", 3, 5, 2, true, "комед", 3, 5, 2},
		{"модерні", 3, 5, 2, true, "модерн", 3, 5, 2},
		{"україні", 2, 1, 4, true, "україн", 2, 1, 4},
		{"розсі", 2, 1, 4, true, "розсі", 2, 1, 4},
		{"вмі", 3, 1, 2, true, "вмі", 3, 1, 2},
		{"зрозумі", 3, 6, 1, true, "зрозум", 3, 6, 1},
		{"зрозумі", 3, 6, 1, true, "зрозум", 3, 6, 1},
		{"син", 2, 1, 3, true, "син", 2, 6, 3},
		{"банкі", 2, 1, 3, true, "банкі", 2, 1, 3},
		{"непорожні", 3, 5, 2, true, "непорожн", 3, 5, 2},
		{"поклоні", 3, 6, 2, true, "поклон", 3, 6, 2},
		{"порожні", 2, 3, 1, true, "порожн", 2, 5, 1},
		{"організаці", 2, 5, 1, true, "організа", 2, 5, 1},
		{"професі", 3, 1, 2, true, "профес", 3, 1, 2},
		{"гіґієні", 1, 6, 2, true, "гіґієн", 1, 6, 2},
		{"структурні", 3, 4, 2, true, "структурн", 3, 4, 2},
		{"морфологі", 4, 7, 2, true, "морфолог", 4, 7, 2},
		{"позалітургі", 3, 5, 2, true, "позалітург", 3, 5, 2},
		{"озброєні", 2, 4, 1, true, "озброєн", 2, 4, 1},
		{"чолові", 3, 5, 2, true, "чолов", 3, 5, 2},
		{"танкі", 2, 4, 1, true, "танк", 2, 4, 1},
		{"горі", 3, 1, 2, true, "горі", 3, 1, 2},
		{"мужні", 4, 1, 2, true, "мужн", 4, 1, 2},
		{"голі", 2, 3, 1, true, "гол", 2, 2, 1},
		{"пломбі", 4, 6, 3, true, "пломб", 4, 6, 3},
		{"реалі", 2, 4, 1, true, "реал", 2, 4, 1},
		{"боротьбі", 3, 1, 2, true, "боротьб", 3, 1, 2},
		{"ідеалі", 4, 6, 3, true, "ідеал", 4, 6, 3},
		{"ході", 1, 2, 3, true, "ход", 1, 2, 3},
		{"саді", 2, 3, 1, true, "сад", 2, 3, 1},
		{"камі", 3, 1, 2, true, "кам", 3, 1, 2},
		{"корі", 1, 3, 2, true, "кор", 1, 3, 2},
		// False cases
		{"виправля", 2, 6, 1, false, "виправля", 2, 6, 1},
		{"ваш", 3, 3, 2, false, "ваш", 3, 3, 2},
		{"чудесн", 2, 4, 1, false, "чудесн", 2, 4, 1},
		{"постаріт", 3, 6, 2, false, "постаріт", 3, 6, 2},
		{"соснов", 3, 6, 2, false, "соснов", 3, 6, 2},
		{"разв'язува", 3, 6, 2, false, "разв'язува", 3, 6, 2},
		{"розвин", 3, 6, 2, false, "розвин", 3, 6, 2},
		{"аморальн", 3, 5, 2, false, "аморальн", 3, 5, 2},
		{"пан", 1, 3, 2, false, "пан", 1, 3, 2},
		{"кудряв", 3, 6, 2, false, "кудряв", 3, 6, 2},
		{"протерт", 4, 6, 3, false, "протерт", 4, 6, 3},
		{"лавочк", 3, 5, 2, false, "лавочк", 3, 5, 2},
		{"панорам", 3, 5, 2, false, "панорам", 3, 5, 2},
		{"відверт", 3, 5, 1, false, "відверт", 3, 5, 1},
		{"джерел", 1, 2, 3, false, "джерел", 1, 2, 3},
		{"звинува", 3, 4, 2, false, "звинува", 3, 4, 2},
		{"вража", 3, 4, 1, false, "вража", 3, 4, 1},
		{"диви", 3, 1, 2, false, "диви", 3, 1, 2},
	}
	romance.RunStepTest(t, step2, testCases)

}

// Test step3
//
func Test_step3(t *testing.T) {
	testCases := []romance.StepTestCase{
		{"абсолютніст", 3, 1, 2, true, "абсолютніс", 3, 1, 2},
		{"беззахисніст", 3, 6, 2, true, "беззахисн", 3, 6, 2},
		{"дощов", 3, 1, 2, true, "дощ", 3, 1, 2},
		{"ввічливіст", 3, 4, 2, true, "ввічлив", 3, 4, 2},
		{"леґальніст", 1, 7, 2, true, "леґальн", 1, 7, 2},
		{"витриманіст", 3, 1, 2, true, "витриман", 3, 1, 2},
		{"важливіст", 4, 1, 2, true, "важливіст", 4, 1, 2},
		{"нульов", 2, 1, 3, true, "нульов", 2, 1, 3},
		{"стильов", 3, 1, 2, true, "стиль", 3, 1, 2},
		{"дріжджов", 3, 5, 2, true, "дріждж", 3, 5, 2},
		{"речов", 3, 1, 2, true, "реч", 3, 1, 2},
		{"крайов", 2, 3, 1, true, "край", 2, 3, 1},
		{"бойов", 1, 1, 2, true, "бой", 1, 1, 2},
		{"дійов", 1, 1, 2, true, "дій", 1, 1, 2},
		{"гібридніст", 3, 5, 1, true, "гібридн", 3, 5, 1},
		{"абсурдніст", 3, 1, 2, true, "абсурдн", 3, 1, 2},
		{"проникливіст", 3, 4, 2, true, "прониклив", 3, 4, 2},
		{"сміливіст", 3, 1, 2, true, "смілив", 3, 1, 2},
		{"нерівніст", 3, 1, 2, true, "нерівн", 3, 1, 2},
		{"політичніст", 2, 3, 1, true, "політичн", 2, 3, 1},
		{"безстроковіст", 1, 6, 3, true, "безстроков", 1, 6, 3},
		{"будденіст", 1, 6, 2, true, "будден", 1, 6, 2},
		{"функціональніст", 1, 2, 4, true, "функціональн", 1, 2, 4},
		{"цивілізованіст", 3, 1, 2, true, "цивілізован", 3, 1, 2},
		{"цілеспрямованіст", 3, 5, 2, true, "цілеспрямован", 3, 5, 2},
		{"якісніст", 3, 4, 2, true, "якісн", 3, 4, 2},
		{"центральніст", 2, 5, 1, true, "центральн", 2, 5, 1},
		{"грошов", 3, 1, 2, true, "грош", 3, 1, 2},
		{"гайов", 2, 1, 1, true, "гай", 2, 1, 1},
		{"святков", 4, 1, 2, true, "святк", 4, 1, 2},
		{"вітров", 3, 1, 2, true, "вітр", 3, 1, 2},
		{"казков", 3, 1, 2, true, "казк", 3, 1, 2},
		{"довіреніст", 3, 6, 2, true, "довірен", 3, 6, 2},
		{"службов", 4, 1, 3, true, "служб", 4, 1, 3},
		{"святков", 3, 5, 2, true, "святк", 3, 5, 2},
		{"упертіст", 3, 4, 2, true, "уперт", 3, 4, 2},
		{"факультативніст", 3, 7, 2, true, "факультативн", 3, 7, 2},
		{"узгодженіст", 3, 1, 2, true, "узгоджен", 3, 1, 2},
		{"стійніст", 3, 5, 2, true, "стійн", 3, 5, 2},
		{"правосуб'єктніст", 3, 6, 1, true, "правосуб'єктність", 3, 6, 1},
		{"мелодійніст", 4, 5, 3, true, "мелодійн", 4, 5, 3},
		{"наявніст", 4, 1, 2, true, "наявн", 4, 1, 2},
		{"ідентичніст", 2, 3, 1, true, "ідентичність", 2, 3, 1},
		{"запущеніст", 3, 7, 2, true, "запущен", 3, 7, 2},
		{"залученіст", 3, 1, 2, true, "залучен", 3, 1, 2},
		{"бездітніст", 1, 4, 2, true, "бездітн", 1, 4, 2},
		{"безпритульніст", 1, 5, 2, true, "безпритульн", 1, 5, 2},
		{"безнадійніст", 1, 5, 4, true, "безнадійн", 1, 5, 4},
		// False cases
		{"Немовля", 4, 5, 3, false, "немовля", 4, 5, 3},
		{"Хитр", 3, 1, 2, false, "хитр", 3, 1, 2},
		{"Безлад", 3, 6, 2, false, "безлад", 3, 6, 2},
		{"Збагнути", 3, 4, 2, false, "збагнути", 3, 4, 2},
		{"Меншин", 3, 1, 2, false, "меншин", 3, 1, 2},
		{"Увар", 2, 4, 1, false, "Увар", 2, 4, 1},
		{"Поклали", 3, 1, 2, false, "поклали", 3, 1, 2},
		{"Відводжу", 2, 3, 1, false, "відводжу", 2, 3, 1},
		{"Рівнин", 3, 1, 2, false, "рівнин", 3, 1, 2},
		{"Пройдений", 1, 5, 3, false, "пройдений", 1, 5, 3},
		{"Буде", 1, 3, 2, false, "буде", 1, 3, 2},
		{"Морг", 3, 1, 2, false, "морг", 3, 1, 2},
		{"Виставляти", 3, 1, 2, false, "виставляти", 3, 1, 2},
		{"Точка", 3, 4, 2, false, "Точка", 3, 4, 2},
		{"Майстерн", 1, 4, 2, false, "майстерн", 1, 4, 2},
		{"Тех", 1, 1, 2, false, "тех", 1, 1, 2},
		{"Пагор", 4, 1, 2, false, "пагорб", 4, 1, 2},
		{"Очікувати", 6, 4, 1, false, "очікувати", 6, 4, 1},
		{"Широкий", 3, 5, 2, false, "широкий", 3, 5, 2},
		{"З'їдати", 4, 5, 1, false, "З'їдати", 4, 5, 1},
		{"Прониклив", 4, 1, 3, false, "прониклив", 4, 1, 3},
		{"Вичистити", 3, 5, 2, false, "вичистити", 3, 5, 2},
		{"Загинут", 3, 5, 2, false, "загинут", 3, 5, 2},
		{"Аргумент", 1, 5, 2, false, "аргумент", 1, 5, 2},
		{"Прошумів", 4, 6, 3, false, "прошумів", 4, 6, 3},
		{"Летів", 3, 5, 2, false, "летів", 3, 5, 2},
		{"Служит", 3, 6, 1, false, "служит", 3, 6, 1},
		{"Вистриб", 3, 1, 2, false, "вистриб", 3, 1, 2},
		{"Мистецтв", 2, 4, 1, false, "мистецтв", 2, 4, 1},
		{"Підшивається", 4, 6, 2, false, "підшивається", 4, 6, 2},
		{"Виг", 3, 1, 2, false, "Вигін", 3, 1, 2},
		{"Віролом", 3, 5, 2, false, "віролом", 3, 5, 2},
		{"Багат", 1, 3, 2, false, "багат", 1, 3, 2},
		{"Примирен", 4, 1, 3, false, "примирен", 4, 1, 3},
		{"Чар", 3, 1, 2, false, "чар", 3, 1, 2},
		{"Оксамит", 3, 7, 1, false, "оксамит", 3, 7, 1},
		{"Блисну", 4, 1, 3, false, "блисну", 4, 1, 3},
		{"Сторонніх", 3, 1, 2, false, "сторонніх", 3, 1, 2},
		{"Одноразово", 3, 5, 1, false, "одноразово", 3, 5, 1},
		{"Втіл", 3, 1, 4, false, "втіл", 3, 1, 4},
		{"Складати", 1, 5, 3, false, "складати", 1, 5, 3},
		{"Коробки", 3, 5, 2, false, "коробки", 3, 5, 2},
		{"З'їж", 1, 1, 3, false, "з'їж", 1, 1, 3},
		{"Арешт", 2, 5, 1, false, "арешт", 2, 5, 1},
		{"Шепнути", 3, 6, 2, false, "шепнути", 3, 6, 2},
	}
	romance.RunStepTest(t, step3, testCases)

}

// Test step4
//
func Test_step4(t *testing.T) {
	testCases := []romance.StepTestCase{
		{"щоденн", 3, 5, 2, true, "щоден", 3, 5, 2},
		{"докорінн", 3, 5, 2, true, "докорін", 3, 5, 2},
		{"осінн", 1, 4, 2, true, "осін", 1, 4, 2},
		{"знищенн", 2, 3, 1, true, "знищен", 2, 3, 1},
		{"настіль", 2, 4, 1, true, "настіл", 2, 4, 1},
		{"ранн", 2, 1, 3, true, "ран", 2, 1, 3},
		{"благословенн", 3, 6, 2, true, "благословен", 3, 6, 2},
		{"неписьменн", 3, 5, 2, true, "неписьмен", 3, 5, 2},
		{"знанн", 3, 1, 2, true, "знан", 3, 1, 2},
		{"навманн", 2, 3, 1, true, "навман", 2, 3, 1},
		{"тінн", 3, 1, 2, true, "тін", 3, 1, 2},
		{"нескінченн", 2, 4, 1, true, "нескінчен", 2, 4, 1},
		{"страшенн", 4, 5, 2, true, "страшен", 3, 4, 2},
		{"здоровенн", 2, 3, 4, true, "здоровен", 2, 3, 4},
		{"невблаганн", 1, 4, 2, true, "невблаган", 1, 4, 2},
		{"туманн", 3, 4, 1, true, "туман", 3, 4, 1},
		{"віконн", 2, 3, 1, true, "вікон", 2, 3, 1},
		{"письменн", 2, 5, 1, true, "письмен", 2, 5, 1},
		{"блаженн", 1, 6, 3, true, "блажен", 1, 6, 3},
		{"годинн", 3, 4, 2, true, "годин", 3, 4, 2},
		{"чинн", 3, 4, 2, true, "чин", 3, 3, 2},
		{"орлинн", 1, 5, 2, true, "орлин", 1, 5, 2},
		{"нездоланн", 2, 4, 1, true, "нездолан", 2, 4, 1},
		{"воз'єднанн", 2, 6, 1, true, "воз'єдн", 2, 6, 1},
		{"причинн", 1, 3, 2, true, "причин", 1, 3, 2},
		{"страшенн", 1, 3, 4, true, "страшен", 1, 3, 4},
		{"кінн", 3, 1, 2, true, "кін", 3, 1, 2},
		{"недоторканн", 2, 5, 1, true, "недоторкан", 2, 5, 1},
		{"незрівнянн", 1, 4, 2, true, "незрівнян", 1, 4, 2},
		{"недоторканн", 2, 5, 1, true, "недоторкан", 2, 5, 1},
		{"мерзенн", 1, 3, 2, true, "мерзен", 1, 3, 2},
		{"останн", 1, 5, 2, true, "остан", 1, 5, 2},
		{"притаманн", 3, 1, 4, true, "притаман", 3, 1, 4},
		{"численн", 3, 1, 2, true, "числен", 3, 1, 2},
		{"огненн", 3, 4, 1, true, "огнен", 3, 4, 1},
		{"старанн", 3, 1, 4, true, "старан", 3, 1, 4},
		{"невпинн", 3, 1, 2, true, "невпин", 3, 1, 2},
		{"непримиренн", 3, 4, 2, true, "непримирен", 3, 4, 2},
		{"вознесенн", 1, 4, 2, true, "вознесен", 1, 4, 2},
		{"священн", 2, 5, 1, true, "священ", 2, 5, 1},
		{"пожертвуванн", 3, 1, 2, true, "пожертвуван", 3, 1, 2},
		{"сокровенн", 1, 4, 2, true, "сокровен", 1, 4, 2},
		{"спонтанн", 1, 4, 3, true, "спонтан", 1, 4, 3},
		{"божественн", 5, 1, 2, true, "божествен", 5, 1, 2},
		{"притаманн", 3, 4, 1, true, "притаман", 3, 4, 1},
		{"прощенн", 2, 1, 3, true, "прощен", 2, 1, 3},
		{"нужденн", 2, 4, 1, true, "нужден", 2, 4, 1},
		{"непізнанн", 3, 1, 2, true, "непізнан", 3, 1, 2},
		{"неописанн", 2, 4, 1, true, "неописан", 2, 4, 1},
		{"здійсненн", 3, 5, 1, true, "здійсненн", 3, 5, 1},
		// False cases
		{"прикрас", 2, 3, 1, false, "прикрас", 2, 3, 1},
		{"реклам", 3, 5, 1, false, "реклам", 3, 5, 1},
		{"виганя", 2, 3, 1, false, "виганя", 2, 3, 1},
		{"поїздк", 4, 6, 2, false, "поїздк", 4, 6, 2},
		{"перехрест", 3, 1, 2, false, "перехрест", 3, 1, 2},
		{"комфортн", 3, 5, 1, false, "комфортн", 3, 5, 1},
		{"мляв", 4, 4, 3, false, "мляв", 4, 4, 3},
		{"постав", 3, 5, 1, false, "постав", 3, 5, 1},
		{"калік", 1, 3, 2, false, "калік", 1, 3, 2},
		{"піш", 2, 1, 3, false, "піш", 2, 1, 3},
		{"повідом", 4, 7, 3, false, "повідом", 4, 7, 3},
		{"двір", 3, 1, 4, false, "двір", 3, 1, 4},
		{"відпові", 3, 6, 2, false, "відпові", 3, 6, 2},
		{"реліг", 3, 5, 2, false, "реліг", 3, 5, 2},
		{"безсердеч", 3, 6, 2, false, "безсердеч", 3, 6, 2},
		{"прохор", 4, 6, 3, false, "прохор", 4, 6, 3},
		{"відпові", 1, 5, 2, false, "відпові", 1, 5, 2},
		{"вдячн", 5, 4, 3, false, "ораторствова", 5, 4, 3},
		{"прояв", 5, 5, 3, false, "прояв", 5, 5, 3},
		{"несмілив", 3, 6, 2, false, "несмілив", 3, 6, 2},
		{"нім", 3, 3, 2, false, "нім", 3, 3, 2},
		{"недосяжн", 3, 5, 2, false, "недосяжн", 3, 5, 2},
		{"розрах", 3, 6, 2, false, "розрах", 3, 6, 2},
		{"січн", 4, 6, 3, false, "січн", 4, 6, 3},
		{"підроб", 3, 1, 2, false, "підроб", 3, 1, 2},
		{"юридичн", 3, 7, 4, false, "юридичн", 3, 7, 4},
		{"дівчи", 3, 4, 2, false, "дівчи", 3, 4, 2},
		{"нахаб", 3, 5, 2, false, "нахаб", 3, 5, 2},
		{"сонячн", 3, 5, 2, false, "сонячн", 3, 5, 2},
		{"зор", 3, 1, 2, false, "зор", 3, 1, 2},
		{"повноліт", 3, 7, 2, false, "повноліт", 3, 7, 2},
		{"чист", 2, 4, 1, false, "чист", 2, 4, 1},
		{"архітект", 3, 5, 1, false, "архітект", 3, 5, 1},
		{"випуск", 3, 5, 2, false, "випуск", 3, 5, 2},
		{"відста", 1, 4, 2, false, "відста", 1, 4, 2},
		{"звабл", 2, 3, 1, false, "звабл", 2, 3, 1},
		{"управл", 3, 1, 2, false, "управл", 3, 1, 2},
		{"вищ", 1, 1, 2, false, "вищ", 1, 1, 2},
		{"присмир", 4, 7, 3, false, "присмир", 4, 7, 3},
		{"педагог", 3, 5, 2, false, "педагог", 3, 5, 2},
		{"розповсюд", 3, 7, 2, false, "розповсюд", 3, 7, 2},
		{"вірн", 2, 4, 1, false, "вірн", 2, 4, 1},
		{"кліт", 3, 4, 2, false, "кліт", 3, 4, 2},
		{"отрут", 2, 4, 1, false, "отрут", 2, 4, 1},
		{"плеч", 4, 3, 1, false, "плеч", 4, 3, 1},
		{"пам'ята", 3, 1, 2, false, "пам'ята", 3, 1, 2},
		{"розум", 3, 1, 2, false, "розум", 3, 1, 2},
		{"зляка", 1, 3, 4, false, "неисправим", 1, 3, 4},
		{"чіпля", 3, 5, 2, false, "чіпля", 3, 5, 2},
		{"дворянин", 4, 6, 3, false, "дворянин", 4, 6, 3},
	}
	romance.RunStepTest(t, step4, testCases)
}

// Test a large set of words for which we know
// the correct stemmed form.
//
func Test_Vocabulary(t *testing.T) {
	testCases := []struct {
		in  string
		out string
	}{

		{"Мандруючи", "мандру"},
		{"Маслом", "масл"},
		{"Вражаючі", "вража"},
		{"Тривожило", "тривожи"},
		{"Пане", "пан"},
		{"Зайняти", "зайня"},
		{"Почервоніє", "почервоні"},
		{"Підприємством", "підприємств"},
		{"Несміливі", "несмілив"},
		{"Дівчиною", "дівчи"},
		{"Зайняті", "зайнят"},
		{"Гордістю", "горд"},
		{"Простояла", "простоя"},
		{"Кавою", "кав"},
		{"Нахабство", "нахаб"},
		{"Здригнеться", "здригн"},
		{"Провідний", "провідн"},
		{"Огорожі", "огорож"},
		{"Пити", "пит"},
		{"Юридичному", "юридичн"},
		{"Нетерплячий", "нетерпляч"},
		{"Німому", "нім"},
		{"Виганяють", "виганя"},
		{"Розраховані", "розрахован"},
		{"Злякає", "зляка"},
		{"Зорю", "зор"},
		{"Сонячного", "сонячн"},
		{"Підробляв", "підроб"},
		{"Відвертий", "відверт"},
		{"Надвірний", "надвірн"},
		{"Січні", "січн"},
		{"Задусі", "заду"},
		{"Перебрали", "перебра"},
		{"Недосяжним", "недосяжн"},
		{"Розраховуючи", "розрах"},
		{"Нетерпіння", "нетерп"},
		{"Розвинувшись", "розвин"},
		{"Подружилися", "подруж"},
		{"Сечі", "сеч"},
		{"Розсілися", "розсі"},
		{"Зійду", "зій"},
		{"Розумний", "розум"},
		{"Чистому", "чист"},
		{"Легковажно", "легковажн"},
		{"Цілковитого", "цілковит"},
		{"Простирадло", "простирадл"},
		{"Повідомили", "повідом"},
		{"Восьмому", "Восьм"},
		{"Відповів", "відпові"},
		{"Вдячна", "вдячн"},
		{"Млявими", "мляв"},
		{"Негідника", "негідн"},
		{"Двірники", "двір"},
		{"Приїжджали", "приї"},
		{"Звинуватити", "звинува"},
		{"Батальйони", "батальйон"},
		{"Каліка", "калік"},
		{"Звабливіше", "звабл"},
		{"Коробочками", "короб"},
		{"Пішли", "піш"},
		{"Архітектура", "архітект"},
		{"Пан", "пан"},
		{"Джерельна", "джерел"},
		{"Навіжений", "навіжен"},
		{"Вириваються", "вирива"},
		{"Пам'ятати", "Пам'ята"},
		{"Ночуєш", "ночу"},
		{"Благаннями", "блага"},
		{"Поставлений", "постав"},
		{"Підвелася", "підв"},
		{"Посумувавши", "посумува"},
		{"Безчесним", "безчесн"},
		{"Погуляти", "погуля"},
		{"Материнське", "материнськ"},
		{"Клітку", "кліт"},
		{"Став", "став"},
		{"Плечі", "плеч"},
		{"Том", "том"},
		{"Управління", "управл"},
		{"Хрипким", "хрипк"},
		{"Прихильності", "прихильн"},
		{"Наполеглива", "наполеглив"},
		{"Плентався", "плент"},
		{"Сказі", "сказ"},
		{"Непроникна", "непроник"},
		{"Туманних", "туман"},
		{"Заблищала", "заблищ"},
		{"Вищому", "вищ"},
		{"Суперечки", "супереч"},
		{"Підвернувся", "подверну"},
		{"Лагідним", "лагідн"},
		{"Ногам", "ног"},
		{"Синіючих", "син"},
		{"Батарею", "батар"},
		{"Зрозумілий", "зрозумі"},
		{"Фантазія", "фантаз"},
		{"Обірваної", "обірв"},
		{"Незграбний", "незграбн"},
		{"Бридке", "бридк"},
		{"Їсти", "їст"},
		{"Жирок", "жир"},
		{"Зраджувати", "зраджу"},
		{"Віщим", "віщ"},
		{"Плив", "плив"},
		{"Доброчесного", "доброчесн"},
		{"Сонних", "сон"},
		{"Канал", "кана"},
		{"Хмарами", "хмар"},
		{"Село", "сел,"},
		{"Товстий", "товст"},
		{"Спотворений", "спотвор"},
		{"Згортають", "згорта"},
		{"Мутно", "мутн"},
		{"Переговорено", "переговор"},
		{"Почну", "поч"},
		{"Метушні", "метуш"},
		{"Ридаючі", "рида"},
		{"Нерв", "нерв"},
		{"Штопати", "штоп"},
		{"Відтінок", "відтін"},
		{"Солідніше", "солідн"},
		{"Шириться", "ширит"},
		{"Підшукання", "підшук"},
		{"Слабкість", "слабк"},
		{"Дітьми", "діт"},
		{"Зрозумів", "зрозум"},
		{"Нянечка", "няне"},
		{"Перегортаючи", "перегорт"},
		{"Розпливається", "розплив"},
		{"Запрошує", "запрош"},
		{"Дивився", "диви"},
		{"Кумири", "кумир"},
		{"Жилет", "жилет"},
		{"Вміють", "вмі"},
		{"Вирішуєте", "виріш"},
		{"Відмили", "відм"},
		{"Ледачих", "леда"},
		{"Замерзнути", "замерз"},
		{"Доводиться", "дов"},
		{"Нещасний", "нещас"},
		{"Виправлення", "виправ"},
		{"Висмоктував", "висмокт"},
		{"Підстилаючи", "підст"},
		{"Прекрасною", "прекрасн"},
		{"Засмучений", "засмучен"},
		{"Підвіконня", "підвікон"},
		{"Освічений", "освічен"},
		{"Віджила", "віджи"},
		{"Поїсти", "пої"},
		{"Додалося", "дода"},
		{"Відправленні", "відправлен"},
		{"Куртці", "куртк"},
	}
	for _, testCase := range testCases {
		result := Stem(testCase.in, true)
		if result != testCase.out {
			t.Errorf("Expected %v -> %v, but got %v", testCase.in, testCase.out, result)
		}
	}
}
