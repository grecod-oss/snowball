package ukrainian

import (
	"testing"

	"github.com/grecod-oss/snowball/romance"
)

// Test isLowerVowel for things we know should be true
// or false.
//
func Test_isLowerVowel(t *testing.T) {
	testCases := []romance.WordBoolTestCase{
		// These are all vowels.
		{"аеиоіуяєюї", true},
		// None of these are vowels.
		{"бвгґджзйклмнпрстфхцчшщь", false},
	}
	romance.RunRunewiseBoolTest(t, isLowerVowel, testCases)
}

// Test stopWords for things we know should be true
// or false.
//
func Test_stopWords(t *testing.T) {
	testCases := []romance.WordBoolTestCase{
		{"була", true},
		{"нас", true},
		{"мене", true},
		{"хімічне", false},
		{"машинобудування", false},
	}
	romance.RunWordBoolTest(t, isStopWord, testCases)
}

func Test_findRegions(t *testing.T) {
	testCases := []romance.FindRegionsTestCase{
		{"лякає", 3, 5, 2},
		{"гарячої", 3, 5, 2},
		{"розчаруватися", 3, 6, 2},
		{"ваших", 3, 5, 2},
		{"зливаєшся", 4, 7, 3},
		{"випив", 3, 5, 2},
		{"їздить", 2, 5, 1},
		{"думай", 3, 5, 2},
		{"літай", 3, 5, 2},
		{"розмовляла", 3, 6, 2},
		{"бесідою", 3, 5, 2},
		{"бурчить", 3, 6, 2},
		{"зростаючого", 4, 8, 3},
		{"підповзла", 3, 6, 2},
		{"швидкістю", 4, 7, 3},
		{"псує", 4, 4, 3},
		{"качала", 3, 5, 2},
		{"чуйність", 3, 6, 2},
		{"прагнення", 4, 7, 3},
		{"примхи", 4, 6, 3},
		{"почутті", 3, 5, 2},
		{"істоту", 2, 5, 1},
		{"жменею", 4, 6, 3},
		{"постіллю", 3, 6, 2},
		{"призупинився", 4, 6, 3},
		{"бігає", 3, 5, 2},
		{"мучиш", 3, 5, 2},
		{"ляжу", 3, 4, 2},
		{"здивування", 4, 6, 3},
		{"скрасити", 5, 7, 4},
		{"безглуздий", 3, 7, 2},
		{"змінитися", 4, 6, 3},
		{"бульвару", 3, 7, 2},
		{"добробуту", 3, 6, 2},
		{"галявині", 3, 5, 2},
		{"прощення", 4, 6, 3},
		{"нишком", 3, 6, 2},
		{"переселився", 3, 5, 2},
		{"відмахується", 3, 6, 2},
		{"змучив", 4, 6, 3},
		{"п'яною", 4, 6, 3},
		{"куртці", 3, 6, 2},
		{"буйний", 3, 6, 2},
		{"застраховані", 3, 7, 2},
		{"шаршавого", 3, 6, 2},
		{"завидна", 3, 5, 2},
		{"напередодні", 3, 5, 2},
		{"періодичного", 3, 6, 2},
		{"вигода", 3, 5, 2},
		{"мачуха", 3, 5, 2},
		{"дворовий", 4, 6, 3},
		{"завмерло", 3, 6, 2},
		{"навколишні", 3, 6, 2},
		{"звичайних", 4, 6, 3},
		{"добігши", 3, 5, 2},
		{"марилося", 3, 5, 2},
		{"татарським", 3, 5, 2},
		{"неважливим", 3, 5, 2},
		{"втекли", 4, 6, 3},
		{"завести", 3, 5, 2},
		{"відчинені", 3, 6, 2},
		{"дракон", 4, 6, 3},
		{"бродить", 4, 6, 3},
		{"смуток", 4, 6, 3},
		{"постаріти", 3, 6, 2},
		{"спасіння", 4, 6, 3},
		{"попередня", 3, 5, 2},
		{"розрахунки", 3, 6, 2},
		{"плаває", 4, 6, 3},
		{"наступили", 3, 6, 2},
		{"повели", 3, 5, 2},
		{"підкорилися", 3, 6, 2},
		{"здоровий", 4, 6, 3},
		{"представляла", 4, 8, 3},
		{"чіпай", 3, 5, 2},
		{"поклонися", 3, 6, 2},
		{"передчуття", 3, 5, 2},
		{"пропускає", 4, 6, 3},
		{"щітку", 3, 5, 2},
		{"відворотом", 3, 6, 2},
		{"полярний", 3, 5, 2},
	}

	romance.RunFindRegionsTest(t, findRegions, testCases)
}

// Test step1
//
func Test_step1(t *testing.T) {
	testCases := []romance.StepTestCase{
		{"вмираю", 3, 4, 1, true, "вмира", 3, 4, 1},
		{"відчепіться", 2, 6, 1, true, "відчеп", 2, 6, 1},
		{"густий", 3, 4, 2, true, "густ", 3, 4, 2},
		{"соціальний", 3, 6, 2, true, "соціальн", 3, 6, 2},
		{"силою", 3, 1, 2, true, "сил", 3, 1, 2},
		{"млини", 3, 4, 2, true, "млин", 3, 4, 2},
		{"сухарі", 3, 5, 2, true, "сухар", 3, 5, 2},
		{"швидкому", 3, 5, 2, true, "швидк", 3, 5, 2},
		{"невисокому", 3, 5, 2, true, "невисок", 3, 5, 2},
		{"покінчивши", 3, 5, 2, true, "покінчив", 3, 5, 2},
		{"скажіть", 4, 1, 3, true, "скаж", 4, 1, 3},
		{"естетичне", 2, 5, 1, true, "естетичн", 2, 5, 1},
		{"нудьгу", 2, 1, 3, true, "нудьг", 2, 1, 3},
		{"ходою", 3, 1, 2, true, "ход", 3, 1, 2},
		{"отриманого", 3, 5, 2, true, "отриман", 3, 5, 2},
		{"гріховні", 4, 6, 3, true, "гріховн", 4, 6, 3},
		{"валяються", 3, 1, 2, true, "валя", 3, 1, 2},
		{"безплідного", 3, 7, 2, true, "безплідн", 3, 7, 2},
		{"невгамовної", 4, 1, 2, true, "невгамовн", 4, 1, 2},
		{"закоханої", 4, 2, 3, true, "закохан", 4, 2, 3},
		{"спритно", 3, 4, 2, true, "спритн", 3, 4, 2},
		{"ненаситну", 3, 5, 2, true, "ненаситн", 3, 5, 2},
		{"нечемність", 4, 1, 3, true, "нечемн", 4, 1, 3},
		{"спрямовані", 2, 4, 1, true, "спрямован", 2, 4, 1},
		{"владному", 4, 1, 3, true, "владн", 4, 1, 3},
		{"сором'язливо", 2, 5, 3, true, "сором'язлив", 2, 5, 3},
		{"фігурі", 3, 5, 2, true, "фігур", 3, 5, 2},
		// False cases
		{"телефон", 3, 5, 2, false, "телефон", 3, 5, 2},
		{"стіл", 4, 4, 3, false, "стіл", 4, 4, 3},
		{"тануть", 4, 4, 2, false, "тануть", 4, 4, 2},
		{"обніс", 2, 5, 1, false, "обніс", 2, 5, 1},
		{"зійшовся", 3, 5, 2, false, "зійшов", 3, 5, 2},
		{"курс", 3, 4, 2, false, "курс", 3, 4, 2},
		{"дворянин", 4, 6, 3, false, "дворянин", 4, 6, 3},
		{"одужав", 3, 6, 2, false, "одужав", 3, 6, 2},
		{"спроб", 3, 5, 2, false, "спроб", 3, 5, 2},
		{"просторів", 4, 8, 3, false, "просторів", 4, 8, 3},
		{"сенат", 3, 5, 2, false, "сенат", 3, 5, 2},
		{"палять", 2, 1, 3, false, "палять", 2, 1, 3},
		{"ніж", 3, 3, 2, false, "ніж", 3, 3, 2},
		{"пагорб", 3, 4, 2, false, "пагорб", 3, 4, 2},
		{"кордонів", 4, 6, 3, false, "кордонів", 4, 6, 3},
		{"сам", 3, 1, 2, false, "сам", 3, 1, 2}, 
	}
	romance.RunStepTest(t, step1, testCases)

}

// Test step2
//
func Test_step2(t *testing.T) {
	testCases := []romance.StepTestCase{
		{"фотографі", 2, 7, 5, true, "фотограф", 2, 7, 5},
		{"Євгені", 2, 5, 1, true, "Євген", 2, 5, 1},
		{"релігі", 3, 5, 2, true, "реліг", 3, 5, 2},
		{"інструкці", 3, 5, 2, true, "інструкц", 3, 5, 2},
		{"необхідні", 3, 1, 2, true, "необхідн", 3, 1, 2},
		{"беззбройні", 1, 6, 2, true, "беззбройн", 1, 6, 2},
		{"безініціативні", 2, 7, 3, true, "безініціативн", 2, 7, 3},
		{"блідні", 3, 5, 2, true, "блідн", 3, 5, 2},
		{"ванілі", 4, 2, 3, true, "ваніл", 4, 2, 3},
		{"байдужі", 1, 5, 2, true, "байдуж", 1, 5, 2},
		{"комеді", 3, 5, 2, true, "комед", 3, 5, 2},
		{"модерні", 3, 5, 2, true, "модерн", 3, 5, 2},
		{"україні", 2, 1, 4, true, "україн", 2, 1, 4},
		{"зрозумі", 3, 6, 1, true, "зрозум", 3, 6, 1},
		{"зрозумі", 3, 6, 1, true, "зрозум", 3, 6, 1},
		{"непорожні", 3, 5, 2, true, "непорожн", 3, 5, 2},
		{"поклоні", 3, 6, 2, true, "поклон", 3, 6, 2},
		{"професі", 3, 1, 2, true, "профес", 3, 1, 2},
		{"гіґієні", 1, 6, 2, true, "гіґієн", 1, 6, 2},
		{"структурні", 3, 4, 2, true, "структурн", 3, 4, 2},
		{"морфологі", 4, 7, 2, true, "морфолог", 4, 7, 2},
		{"позалітургі", 3, 5, 2, true, "позалітург", 3, 5, 2},
		{"озброєні", 2, 4, 1, true, "озброєн", 2, 4, 1},
		{"чолові", 3, 5, 2, true, "чолов", 3, 5, 2},
		{"танкі", 2, 4, 1, true, "танк", 2, 4, 1},
		{"мужні", 4, 1, 2, true, "мужн", 4, 1, 2},
		{"реалі", 2, 4, 1, true, "реал", 2, 4, 1},
		{"боротьбі", 3, 1, 2, true, "боротьб", 3, 1, 2},
		{"ході", 1, 2, 3, true, "ход", 1, 2, 3},
		{"саді", 2, 3, 1, true, "сад", 2, 3, 1},
		{"камі", 3, 1, 2, true, "кам", 3, 1, 2},
		{"корі", 1, 3, 2, true, "кор", 1, 3, 2},
		// False cases
		{"виправля", 2, 6, 1, false, "виправля", 2, 6, 1},
		{"ваш", 3, 3, 2, false, "ваш", 3, 3, 2},
		{"чудесн", 2, 4, 1, false, "чудесн", 2, 4, 1},
		{"постаріт", 3, 6, 2, false, "постаріт", 3, 6, 2},
		{"соснов", 3, 6, 2, false, "соснов", 3, 6, 2},
		{"разв'язува", 3, 6, 2, false, "разв'язува", 3, 6, 2},
		{"розвин", 3, 6, 2, false, "розвин", 3, 6, 2},
		{"аморальн", 3, 5, 2, false, "аморальн", 3, 5, 2},
		{"пан", 1, 3, 2, false, "пан", 1, 3, 2},
		{"кудряв", 3, 6, 2, false, "кудряв", 3, 6, 2},
		{"протерт", 4, 6, 3, false, "протерт", 4, 6, 3},
		{"лавочк", 3, 5, 2, false, "лавочк", 3, 5, 2},
		{"панорам", 3, 5, 2, false, "панорам", 3, 5, 2},
		{"відверт", 3, 5, 1, false, "відверт", 3, 5, 1},
		{"джерел", 1, 2, 3, false, "джерел", 1, 2, 3},
		{"звинува", 3, 4, 2, false, "звинува", 3, 4, 2},
		{"вража", 3, 4, 1, false, "вража", 3, 4, 1},
		{"диви", 3, 1, 2, false, "диви", 3, 1, 2}, 
	}
	romance.RunStepTest(t, step2, testCases)

}

// Test step3
//
func Test_step3(t *testing.T) {
	testCases := []romance.StepTestCase{
		{"беззахисніст", 3, 6, 2, true, "беззахисн", 3, 6, 2},
		{"дощов", 3, 1, 2, true, "дощ", 3, 1, 2},
		{"ввічливіст", 3, 4, 2, true, "ввічлив", 3, 4, 2},
		{"леґальніст", 1, 7, 2, true, "леґальн", 1, 7, 2},
		{"витриманіст", 3, 1, 2, true, "витриман", 3, 1, 2},
		{"стильов", 3, 1, 2, true, "стиль", 3, 1, 2},
		{"дріжджов", 3, 5, 2, true, "дріждж", 3, 5, 2},
		{"речов", 3, 1, 2, true, "реч", 3, 1, 2},
		{"крайов", 2, 3, 1, true, "край", 2, 3, 1},
		{"бойов", 1, 1, 2, true, "бой", 1, 1, 2},
		{"дійов", 1, 1, 2, true, "дій", 1, 1, 2},
		{"гібридніст", 3, 5, 1, true, "гібридн", 3, 5, 1},
		{"абсурдніст", 3, 1, 2, true, "абсурдн", 3, 1, 2},
		{"проникливіст", 3, 4, 2, true, "прониклив", 3, 4, 2},
		{"сміливіст", 3, 1, 2, true, "смілив", 3, 1, 2},
		{"нерівніст", 3, 1, 2, true, "нерівн", 3, 1, 2},
		{"політичніст", 2, 3, 1, true, "політичн", 2, 3, 1},
		{"безстроковіст", 1, 6, 3, true, "безстроков", 1, 6, 3},
		{"будденіст", 1, 6, 2, true, "будден", 1, 6, 2},
		{"функціональніст", 1, 2, 4, true, "функціональн", 1, 2, 4},
		{"цивілізованіст", 3, 1, 2, true, "цивілізован", 3, 1, 2},
		{"цілеспрямованіст", 3, 5, 2, true, "цілеспрямован", 3, 5, 2},
		{"якісніст", 3, 4, 2, true, "якісн", 3, 4, 2},
		{"центральніст", 2, 5, 1, true, "центральн", 2, 5, 1},
		{"грошов", 3, 1, 2, true, "грош", 3, 1, 2},
		{"гайов", 2, 1, 1, true, "гай", 2, 1, 1},
		{"святков", 4, 1, 2, true, "святк", 4, 1, 2},
		{"вітров", 3, 1, 2, true, "вітр", 3, 1, 2},
		{"казков", 3, 1, 2, true, "казк", 3, 1, 2},
		{"довіреніст", 3, 6, 2, true, "довірен", 3, 6, 2},
		{"службов", 4, 1, 3, true, "служб", 4, 1, 3},
		{"святков", 3, 5, 2, true, "святк", 3, 5, 2},
		{"упертіст", 3, 4, 2, true, "уперт", 3, 4, 2},
		{"факультативніст", 3, 7, 2, true, "факультативн", 3, 7, 2},
		{"узгодженіст", 3, 1, 2, true, "узгоджен", 3, 1, 2},
		{"стійніст", 3, 5, 2, true, "стійн", 3, 5, 2},
		{"мелодійніст", 4, 5, 3, true, "мелодійн", 4, 5, 3},
		{"наявніст", 4, 1, 2, true, "наявн", 4, 1, 2},
		{"запущеніст", 3, 7, 2, true, "запущен", 3, 7, 2},
		{"залученіст", 3, 1, 2, true, "залучен", 3, 1, 2},
		{"бездітніст", 1, 4, 2, true, "бездітн", 1, 4, 2},
		{"безпритульніст", 1, 5, 2, true, "безпритульн", 1, 5, 2},
		{"безнадійніст", 1, 5, 4, true, "безнадійн", 1, 5, 4},
		// False cases
		{"немовля", 4, 5, 3, false, "немовля", 4, 5, 3},
		{"хитр", 3, 1, 2, false, "хитр", 3, 1, 2},
		{"безлад", 3, 6, 2, false, "безлад", 3, 6, 2},
		{"збагнути", 3, 4, 2, false, "збагнути", 3, 4, 2},
		{"меншин", 3, 1, 2, false, "меншин", 3, 1, 2},
		{"поклали", 3, 1, 2, false, "поклали", 3, 1, 2},
		{"відводжу", 2, 3, 1, false, "відводжу", 2, 3, 1},
		{"рівнин", 3, 1, 2, false, "рівнин", 3, 1, 2},
		{"пройдений", 1, 5, 3, false, "пройдений", 1, 5, 3},
		{"буде", 1, 3, 2, false, "буде", 1, 3, 2},
		{"морг", 3, 1, 2, false, "морг", 3, 1, 2},
		{"виставляти", 3, 1, 2, false, "виставляти", 3, 1, 2},
		{"майстерн", 1, 4, 2, false, "майстерн", 1, 4, 2},
		{"тех", 1, 1, 2, false, "тех", 1, 1, 2},
		{"очікувати", 6, 4, 1, false, "очікувати", 6, 4, 1},
		{"широкий", 3, 5, 2, false, "широкий", 3, 5, 2},
		{"прониклив", 4, 1, 3, false, "прониклив", 4, 1, 3},
		{"вичистити", 3, 5, 2, false, "вичистити", 3, 5, 2},
		{"загинут", 3, 5, 2, false, "загинут", 3, 5, 2},
		{"аргумент", 1, 5, 2, false, "аргумент", 1, 5, 2},
		{"прошумів", 4, 6, 3, false, "прошумів", 4, 6, 3},
		{"летів", 3, 5, 2, false, "летів", 3, 5, 2},
		{"служит", 3, 6, 1, false, "служит", 3, 6, 1},
		{"вистриб", 3, 1, 2, false, "вистриб", 3, 1, 2},
		{"мистецтв", 2, 4, 1, false, "мистецтв", 2, 4, 1},
		{"підшивається", 4, 6, 2, false, "підшивається", 4, 6, 2},
		{"віролом", 3, 5, 2, false, "віролом", 3, 5, 2},
		{"багат", 1, 3, 2, false, "багат", 1, 3, 2},
		{"примирен", 4, 1, 3, false, "примирен", 4, 1, 3},
		{"чар", 3, 1, 2, false, "чар", 3, 1, 2},
		{"оксамит", 3, 7, 1, false, "оксамит", 3, 7, 1},
		{"блисну", 4, 1, 3, false, "блисну", 4, 1, 3},
		{"сторонніх", 3, 1, 2, false, "сторонніх", 3, 1, 2},
		{"одноразово", 3, 5, 1, false, "одноразово", 3, 5, 1},
		{"втіл", 3, 1, 4, false, "втіл", 3, 1, 4},
		{"складати", 1, 5, 3, false, "складати", 1, 5, 3},
		{"коробки", 3, 5, 2, false, "коробки", 3, 5, 2},
		{"з'їж", 1, 1, 3, false, "з'їж", 1, 1, 3},
		{"арешт", 2, 5, 1, false, "арешт", 2, 5, 1},
		{"шепнути", 3, 6, 2, false, "шепнути", 3, 6, 2},
	}
	romance.RunStepTest(t, step3, testCases)

}

// Test step4
//
func Test_step4(t *testing.T) {
	testCases := []romance.StepTestCase{
		{"щоденн", 3, 5, 2, true, "щоден", 3, 5, 2},
		{"докорінн", 3, 5, 2, true, "докорін", 3, 5, 2},
		{"осінн", 1, 4, 2, true, "осін", 1, 4, 2},
		{"знищенн", 2, 3, 1, true, "знищен", 2, 3, 1},
		{"настіль", 2, 4, 1, true, "настіл", 2, 4, 1},
		{"ранн", 2, 1, 3, true, "ран", 2, 1, 3},
		{"благословенн", 3, 6, 2, true, "благословен", 3, 6, 2},
		{"неписьменн", 3, 5, 2, true, "неписьмен", 3, 5, 2},
		{"знанн", 3, 1, 2, true, "знан", 3, 1, 2},
		{"навманн", 2, 3, 1, true, "навман", 2, 3, 1},
		{"тінн", 3, 1, 2, true, "тін", 3, 1, 2},
		{"нескінченн", 2, 4, 1, true, "нескінчен", 2, 4, 1},
		{"здоровенн", 2, 3, 4, true, "здоровен", 2, 3, 4},
		{"невблаганн", 1, 4, 2, true, "невблаган", 1, 4, 2},
		{"туманн", 3, 4, 1, true, "туман", 3, 4, 1},
		{"віконн", 2, 3, 1, true, "вікон", 2, 3, 1},
		{"письменн", 2, 5, 1, true, "письмен", 2, 5, 1},
		{"блаженн", 1, 6, 3, true, "блажен", 1, 6, 3},
		{"годинн", 3, 4, 2, true, "годин", 3, 4, 2},
		{"чинн", 3, 4, 2, true, "чин", 3, 3, 2},
		{"орлинн", 1, 5, 2, true, "орлин", 1, 5, 2},
		{"нездоланн", 2, 4, 1, true, "нездолан", 2, 4, 1},
		{"причинн", 1, 3, 2, true, "причин", 1, 3, 2},
		{"страшенн", 1, 3, 4, true, "страшен", 1, 3, 4},
		{"кінн", 3, 1, 2, true, "кін", 3, 1, 2},
		{"недоторканн", 2, 5, 1, true, "недоторкан", 2, 5, 1},
		{"незрівнянн", 1, 4, 2, true, "незрівнян", 1, 4, 2},
		{"недоторканн", 2, 5, 1, true, "недоторкан", 2, 5, 1},
		{"мерзенн", 1, 3, 2, true, "мерзен", 1, 3, 2},
		{"останн", 1, 5, 2, true, "остан", 1, 5, 2},
		{"притаманн", 3, 1, 4, true, "притаман", 3, 1, 4},
		{"численн", 3, 1, 2, true, "числен", 3, 1, 2},
		{"огненн", 3, 4, 1, true, "огнен", 3, 4, 1},
		{"старанн", 3, 1, 4, true, "старан", 3, 1, 4},
		{"невпинн", 3, 1, 2, true, "невпин", 3, 1, 2},
		{"непримиренн", 3, 4, 2, true, "непримирен", 3, 4, 2},
		{"вознесенн", 1, 4, 2, true, "вознесен", 1, 4, 2},
		{"священн", 2, 5, 1, true, "священ", 2, 5, 1},
		{"пожертвуванн", 3, 1, 2, true, "пожертвуван", 3, 1, 2},
		{"сокровенн", 1, 4, 2, true, "сокровен", 1, 4, 2},
		{"спонтанн", 1, 4, 3, true, "спонтан", 1, 4, 3},
		{"божественн", 5, 1, 2, true, "божествен", 5, 1, 2},
		{"притаманн", 3, 4, 1, true, "притаман", 3, 4, 1},
		{"прощенн", 2, 1, 3, true, "прощен", 2, 1, 3},
		{"нужденн", 2, 4, 1, true, "нужден", 2, 4, 1},
		{"непізнанн", 3, 1, 2, true, "непізнан", 3, 1, 2},
		{"неописанн", 2, 4, 1, true, "неописан", 2, 4, 1},
		// False cases
		{"прикрас", 2, 3, 1, false, "прикрас", 2, 3, 1},
		{"реклам", 3, 5, 1, false, "реклам", 3, 5, 1},
		{"виганя", 2, 3, 1, false, "виганя", 2, 3, 1},
		{"поїздк", 4, 6, 2, false, "поїздк", 4, 6, 2},
		{"перехрест", 3, 1, 2, false, "перехрест", 3, 1, 2},
		{"комфортн", 3, 5, 1, false, "комфортн", 3, 5, 1},
		{"мляв", 4, 4, 3, false, "мляв", 4, 4, 3},
		{"постав", 3, 5, 1, false, "постав", 3, 5, 1},
		{"калік", 1, 3, 2, false, "калік", 1, 3, 2},
		{"піш", 2, 1, 3, false, "піш", 2, 1, 3},
		{"повідом", 4, 7, 3, false, "повідом", 4, 7, 3},
		{"двір", 3, 1, 4, false, "двір", 3, 1, 4},
		{"відпові", 3, 6, 2, false, "відпові", 3, 6, 2},
		{"реліг", 3, 5, 2, false, "реліг", 3, 5, 2},
		{"безсердеч", 3, 6, 2, false, "безсердеч", 3, 6, 2},
		{"прохор", 4, 6, 3, false, "прохор", 4, 6, 3},
		{"відпові", 1, 5, 2, false, "відпові", 1, 5, 2},
		{"вдячн", 5, 4, 3, false, "вдячн", 5, 4, 3},
		{"прояв", 5, 5, 3, false, "прояв", 5, 5, 3},
		{"несмілив", 3, 6, 2, false, "несмілив", 3, 6, 2},
		{"нім", 3, 3, 2, false, "нім", 3, 3, 2},
		{"недосяжн", 3, 5, 2, false, "недосяжн", 3, 5, 2},
		{"розрах", 3, 6, 2, false, "розрах", 3, 6, 2},
		{"січн", 4, 6, 3, false, "січн", 4, 6, 3},
		{"підроб", 3, 1, 2, false, "підроб", 3, 1, 2},
		{"юридичн", 3, 7, 4, false, "юридичн", 3, 7, 4},
		{"дівчи", 3, 4, 2, false, "дівчи", 3, 4, 2},
		{"нахаб", 3, 5, 2, false, "нахаб", 3, 5, 2},
		{"сонячн", 3, 5, 2, false, "сонячн", 3, 5, 2},
		{"зор", 3, 1, 2, false, "зор", 3, 1, 2},
		{"повноліт", 3, 7, 2, false, "повноліт", 3, 7, 2},
		{"чист", 2, 4, 1, false, "чист", 2, 4, 1},
		{"архітект", 3, 5, 1, false, "архітект", 3, 5, 1},
		{"випуск", 3, 5, 2, false, "випуск", 3, 5, 2},
		{"відста", 1, 4, 2, false, "відста", 1, 4, 2},
		{"звабл", 2, 3, 1, false, "звабл", 2, 3, 1},
		{"управл", 3, 1, 2, false, "управл", 3, 1, 2},
		{"вищ", 1, 1, 2, false, "вищ", 1, 1, 2},
		{"присмир", 4, 7, 3, false, "присмир", 4, 7, 3},
		{"педагог", 3, 5, 2, false, "педагог", 3, 5, 2},
		{"розповсюд", 3, 7, 2, false, "розповсюд", 3, 7, 2},
		{"вірн", 2, 4, 1, false, "вірн", 2, 4, 1},
		{"кліт", 3, 4, 2, false, "кліт", 3, 4, 2},
		{"отрут", 2, 4, 1, false, "отрут", 2, 4, 1},
		{"плеч", 4, 3, 1, false, "плеч", 4, 3, 1},
		{"пам'ята", 3, 1, 2, false, "пам'ята", 3, 1, 2},
		{"розум", 3, 1, 2, false, "розум", 3, 1, 2},
		{"зляка", 1, 3, 4, false, "зляка", 1, 3, 4},
		{"чіпля", 3, 5, 2, false, "чіпля", 3, 5, 2},
		{"дворянин", 4, 6, 3, false, "дворянин", 4, 6, 3},
	}
	romance.RunStepTest(t, step4, testCases)
}

// Test a large set of words for which we know
// the correct stemmed form.
//
func Test_Vocabulary(t *testing.T) {
	testCases := []struct {
		in  string
		out string
	}{

		{"мандруючи", "мандрую"},
		{"вражаючі", "вражаюч"},
		{"тривожило", "тривожил"},
		{"пане", "пан"},
		{"зайняти", "зайня"},
		{"почервоніє", "почервон"},
		{"підприємством", "підприємством"},
		{"несміливі", "несмілив"},
		{"дівчиною", "дівчин"},
		{"зайняті", "зайнят"},
		{"гордістю", "гордіст"},
		{"кавою", "кав"},
		{"нахабство", "нахабств"},
		{"здригнеться", "здригнет"},
		{"провідний", "провідн"},
		{"огорожі", "огорож"},
		{"пити", "пи"},
		{"юридичному", "юридичн"},
		{"нетерплячий", "нетерпляч"},
		{"німому", "нім"},
		{"виганяють", "виганя"},
		{"розраховані", "розрахован"},
		{"злякає", "зляка"},
		{"зорю", "зор"},
		{"сонячного", "сонячн"},
		{"підробляв", "підробляв"},
		{"відвертий", "відверт"},
		{"надвірний", "надвірн"},
		{"січні", "січн"},
		{"задусі", "задус"},
		{"перебрали", "перебрал"},
		{"недосяжним", "недосяжн"},
		{"розраховуючи", "розраховую"},
		{"нетерпіння", "нетерп"},
		{"розвинувшись", "розвинувш"},
		{"подружилися", "подружил"},
		{"сечі", "сеч"},
		{"розсілися", "розсіл"},
		{"зійду", "зійд"},
		{"розумний", "розумн"},
		{"чистому", "чист"},
		{"легковажно", "легковажн"},
		{"цілковитого", "цілковит"},
		{"простирадло", "простирадл"},
		{"повідомили", "повідомил"},
		{"восьмому", "восьм"},
		{"відповів", "відповів"},
		{"вдячна", "вдячн"},
		{"млявими", "мляв"},
		{"негідника", "негідник"},
		{"двірники", "двірник"},
		{"приїжджали", "приїжджал"},
		{"звинуватити", "звинувати"},
		{"батальйони", "батальйон"},
		{"каліка", "калік"},
		{"звабливіше", "звабливіш"},
		{"коробочками", "коробочкам"},
		{"пішли", "пішл"},
		{"архітектура", "архітектур"},
		{"пан", "пан"},
		{"джерельна", "джерельн"},
		{"навіжений", "навіжен"},
		{"вириваються", "вирива"},
		{"пам'ятати", "пам'ята"},
		{"ночуєш", "ночуєш"},
		{"благаннями", "благанням"},
		{"поставлений", "поставлен"},
		{"підвелася", "підвел"},
		{"посумувавши", "посумував"},
		{"безчесним", "безчесн"},
		{"погуляти", "погуля"},
		{"материнське", "материнськ"},
		{"клітку", "клітк"},
		{"став", "став"},
		{"плечі", "плеч"},
		{"том", "том"},
		{"управління", "управл"},
		{"хрипким", "хрипк"},
		{"прихильності", "прихильност"},
		{"наполеглива", "наполеглив"},
		{"плентався", "плентав"},
		{"сказі", "сказ"},
		{"непроникна", "непроникн"},
		{"туманних", "туманних"},
		{"заблищала", "заблищал"},
		{"вищому", "вищ"},
		{"суперечки", "суперечк"},
		{"лагідним", "лагідн"},
		{"ногам", "ногам"},
		{"батарею", "батаре"},
		{"зрозумілий", "зрозуміл"},
		{"фантазія", "фантаз"},
		{"обірваної", "обірван"},
		{"незграбний", "незграбн"},
		{"бридке", "бридк"},
		{"їсти", "їс"},
		{"жирок", "жир"},
		{"зраджувати", "зраджува"},
		{"віщим", "віщ"},
		{"плив", "плив"},
		{"доброчесного", "доброчесн"},
		{"канал", "канал"},
		{"хмарами", "хмарам"},
		{"товстий", "товст"},
		{"спотворений", "спотворен"},
		{"згортають", "згорта"},
		{"мутно", "мутн"},
		{"переговорено", "переговорен"},
		{"почну", "почн"},
		{"метушні", "метушн"},
		{"ридаючі", "ридаюч"},
		{"нерв", "нерв"},
		{"штопати", "штопа"},
		{"відтінок", "відтін"},
		{"солідніше", "солідніш"},
		{"шириться", "ширит"},
		{"підшукання", "підшукан"},
		{"слабкість", "слабк"},
		{"дітьми", "дітьм"},
		{"зрозумів", "зрозумів"},
		{"нянечка", "нянечк"},
		{"перегортаючи", "перегортаю"},
		{"розпливається", "розпливаєт"},
		{"запрошує", "запрошу"},
		{"дивився", "див"},
		{"кумири", "кумир"},
		{"жилет", "жилет"},
		{"вміють", "вміют"},
		{"вирішуєте", "вирішуєт"},
		{"відмили", "відмил"},
		{"замерзнути", "замерзну"},
		{"доводиться", "доводит"},
		{"нещасний", "нещасн"},
		{"виправлення", "виправл"},
		{"підстилаючи", "підстилаю"},
		{"прекрасною", "прекрасн"},
		{"засмучений", "засмучен"},
		{"підвіконня", "підвікон"},
		{"освічений", "освічен"},
		{"віджила", "віджил"},
		{"поїсти", "поїс"},
		{"додалося", "додал"},
		{"відправленні", "відправлен"},
		{"куртці", "куртц"},
	}
	for _, testCase := range testCases {
		result := Stem(testCase.in, true)
		if result != testCase.out {
			t.Errorf("Expected %v -> %v, but got %v", testCase.in, testCase.out, result)
		}
	}
}
